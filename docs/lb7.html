<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module lb7</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">lb7</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Carseniy%5Cdesktop%5C%D1%83%D1%87%D0%B5%D0%B1%D0%B0%5Cpy%5Cprog5%5Clb7%5Clb7.py">c:\users\arseniy\desktop\учеба\py\prog5\lb7\lb7.py</a></td></tr></table>
    <p></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="requests.html">requests</a><br>
</td><td class="multicolumn"><a href="threading.html">threading</a><br>
</td><td class="multicolumn"><a href="time.html">time</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="builtins.html#object">builtins.object</a>
</dt><dd>
<dl>
<dt class="heading-text"><a href="lb7.html#Client">Client</a>
</dt><dt class="heading-text"><a href="lb7.html#CurrencyObserver">CurrencyObserver</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="Client">class <strong>Client</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#Client">Client</a>(sid)<br>
&nbsp;<br>
Представляет&nbsp;клиента,&nbsp;подключенного&nbsp;к&nbsp;сокету.<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="Client-__init__"><strong>__init__</strong></a>(self, sid)</dt><dd><span class="code">Инициализирует&nbsp;клиента&nbsp;с&nbsp;его&nbsp;уникальным&nbsp;идентификатором&nbsp;сессии&nbsp;(sid).<br>
&nbsp;<br>
Args:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sid:&nbsp;Уникальный&nbsp;идентификатор&nbsp;сессии&nbsp;клиента.</span></dd></dl>

<dl><dt><a name="Client-update"><strong>update</strong></a>(self, data)</dt><dd><span class="code">Отправляет&nbsp;обновленные&nbsp;данные&nbsp;клиенту&nbsp;через&nbsp;сокет.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;Словарь&nbsp;с&nbsp;данными&nbsp;о&nbsp;курсе&nbsp;валюты.</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table> <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="CurrencyObserver">class <strong>CurrencyObserver</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code">Наблюдатель&nbsp;за&nbsp;курсами&nbsp;валют.&nbsp;&nbsp;Регистрирует&nbsp;клиентов,&nbsp;уведомляет&nbsp;их&nbsp;об&nbsp;изменениях&nbsp;курсов.<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="CurrencyObserver-__init__"><strong>__init__</strong></a>(self)</dt><dd><span class="code">Инициализирует&nbsp;наблюдателя&nbsp;со&nbsp;словарем&nbsp;для&nbsp;хранения&nbsp;зарегистрированных&nbsp;клиентов.</span></dd></dl>

<dl><dt><a name="CurrencyObserver-notify"><strong>notify</strong></a>(self, data)</dt><dd><span class="code">Уведомляет&nbsp;всех&nbsp;зарегистрированных&nbsp;клиентов&nbsp;об&nbsp;изменениях&nbsp;курсов&nbsp;валют.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;Словарь&nbsp;с&nbsp;данными&nbsp;о&nbsp;курсах&nbsp;валют&nbsp;от&nbsp;ЦБ&nbsp;РФ.</span></dd></dl>

<dl><dt><a name="CurrencyObserver-register"><strong>register</strong></a>(self, observer, currency_code)</dt><dd><span class="code">Регистрирует&nbsp;нового&nbsp;клиента.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;observer:&nbsp;Объект&nbsp;клиента&nbsp;(<a href="#Client">Client</a>).<br>
&nbsp;&nbsp;&nbsp;&nbsp;currency_code:&nbsp;Код&nbsp;валюты,&nbsp;за&nbsp;которой&nbsp;следит&nbsp;клиент.</span></dd></dl>

<dl><dt><a name="CurrencyObserver-unregister"><strong>unregister</strong></a>(self, observer)</dt><dd><span class="code">Удаляет&nbsp;клиента&nbsp;из&nbsp;списка&nbsp;наблюдателей.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;observer:&nbsp;Объект&nbsp;клиента&nbsp;(<a href="#Client">Client</a>).</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt><a name="-currency_updater"><strong>currency_updater</strong></a>(observer)</dt><dd><span class="code">Фоновый&nbsp;поток,&nbsp;периодически&nbsp;обновляющий&nbsp;и&nbsp;рассылающий&nbsp;курсы&nbsp;валют.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;observer:&nbsp;Объект&nbsp;<a href="#CurrencyObserver">CurrencyObserver</a>.</span></dd></dl>
 <dl><dt><a name="-get_currency_rates"><strong>get_currency_rates</strong></a>()</dt><dd><span class="code">Получает&nbsp;актуальные&nbsp;курсы&nbsp;валют&nbsp;от&nbsp;API&nbsp;ЦБ&nbsp;РФ.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Словарь&nbsp;с&nbsp;данными&nbsp;о&nbsp;курсах&nbsp;валют.</span></dd></dl>
 <dl><dt><a name="-handle_connect"><strong>handle_connect</strong></a>()</dt><dd><span class="code">Обработчик&nbsp;события&nbsp;подключения&nbsp;клиента.&nbsp;Отправляет&nbsp;клиенту&nbsp;его&nbsp;ID.</span></dd></dl>
 <dl><dt><a name="-handle_disconnect"><strong>handle_disconnect</strong></a>()</dt><dd><span class="code">Обработчик&nbsp;события&nbsp;отключения&nbsp;клиента.&nbsp;Удаляет&nbsp;клиента&nbsp;из&nbsp;наблюдателя.</span></dd></dl>
 <dl><dt><a name="-handle_select_currency"><strong>handle_select_currency</strong></a>(data)</dt><dd><span class="code">Обработчик&nbsp;события&nbsp;выбора&nbsp;валюты&nbsp;клиентом.&nbsp;Регистрирует&nbsp;клиента&nbsp;у&nbsp;наблюдателя.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;Словарь,&nbsp;содержащий&nbsp;код&nbsp;выбранной&nbsp;валюты.</span></dd></dl>
 <dl><dt><a name="-index"><strong>index</strong></a>()</dt><dd><span class="code">Обработчик&nbsp;для&nbsp;главной&nbsp;страницы.&nbsp;Рендерит&nbsp;шаблон&nbsp;index.html.</span></dd></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>app</strong> = &lt;Flask 'lb7'&gt;<br>
<strong>currency_observer</strong> = &lt;lb7.CurrencyObserver object&gt;<br>
<strong>request</strong> = &lt;LocalProxy unbound&gt;<br>
<strong>socketio</strong> = &lt;flask_socketio.SocketIO object&gt;</td></tr></table>
</body></html>